import"./http-common.85b9a0ed.js";import{G as _}from"./GET.384728af.js";import{a as d}from"./auth0Client.8bdc4fdc.js";import{_ as h,o as l,c as i,d as e,w as m,v as p,F as v,e as P,f as u,t as r,n as y}from"./index.63fbff4e.js";const f={name:"persons-list",data(){return{persons:[],currentPerson:null,currentIndex:-1,name:""}},methods:{async retrievePersons(){var n=await d.getTokenSilently();this.persons=await _("person",n)},refreshList(){this.retrievePersons(),this.currentPerson=null,this.currentIndex=-1},setActivePerson(n,o){this.currentPerson=n,this.currentIndex=o},async searchByName(){var n=await d.getTokenSilently();this.persons=await _(`person/name/'${this.name}'`,n)}},mounted(){this.retrievePersons()}},k={class:"list row"},g={class:"col-md-18"},N={class:"input-group mb-3"},b={class:"input-group-append"},x={class:"col-md-12"},w=e("h4",null,"People List",-1),T={class:"list-group"},B=["onClick"],L={class:"col-md-12"},S={key:0},C=e("h4",null,"Person",-1),E=e("label",null,[e("strong",null,"First Name:")],-1),I=e("label",null,[e("strong",null,"Last Name:")],-1),F=e("label",null,[e("strong",null,"Email:")],-1),V=["href"],A={key:1},D=e("br",null,null,-1),G=e("p",null,"Please click on a Person...",-1),z=[D,G];function M(n,o,U,j,s,c){return l(),i("div",k,[e("div",g,[e("div",N,[m(e("input",{type:"text",class:"form-control",placeholder:"Search by Name","onUpdate:modelValue":o[0]||(o[0]=t=>s.name=t)},null,512),[[p,s.name]]),e("div",b,[e("button",{class:"btn btn-outline-secondary",type:"button",onClick:o[1]||(o[1]=(...t)=>c.searchByName&&c.searchByName(...t))}," Search ")])])]),e("div",x,[w,e("ul",T,[(l(!0),i(v,null,P(s.persons,(t,a)=>(l(),i("li",{class:y(["list-group-item",{active:a==s.currentIndex}]),key:a,onClick:q=>c.setActivePerson(t,a)},r(t.lastName)+", "+r(t.firstName)+" ("+r(t.email)+") ",11,B))),128))])]),e("div",L,[s.currentPerson?(l(),i("div",S,[C,e("div",null,[E,u(" "+r(s.currentPerson.firstName),1)]),e("div",null,[I,u(" "+r(s.currentPerson.lastName),1)]),e("div",null,[F,u(" "+r(s.currentPerson.email),1)]),e("a",{href:"/person/"+s.currentPerson.id}," Edit ",8,V)])):(l(),i("div",A,z))])])}const Q=h(f,[["render",M]]);export{Q as default};
