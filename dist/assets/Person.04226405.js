import"./http-common.85b9a0ed.js";import{G as p}from"./GET.384728af.js";import{a as l}from"./auth0Client.8bdc4fdc.js";import{_,o as d,c as m,d as t,w as i,v as c,t as f}from"./index.63fbff4e.js";async function P(o,e,a){const s=await(await fetch(`http://localhost:8080/api/${o}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(a)})).json();return console.log(s),await s}async function h(o,e,a){const s=await(await fetch(`http://localhost:8080/api/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}})).json();return console.log(s),await s}const g={name:"person",data(){return{currentPerson:null,message:""}},methods:{async getPerson(o){var e=await l.getTokenSilently();this.currentPerson=await p(`person/${o}`,e)},async updatePerson(o){var e=await l.getTokenSilently();await P(`person/${this.currentPerson.id}`,e,this.currentPerson)},async deletePerson(){var o=await l.getTokenSilently();await h(`person/${this.currentPerson.id}`,o)}},mounted(){this.message="",this.getPerson(this.$route.params.id)}},y={key:0,class:"edit-form"},w=t("h4",null,"Person",-1),T={class:"form-group"},b=t("label",{for:"firstName"},"First Name",-1),k={class:"form-group"},v=t("label",{for:"lastName"},"Last Name",-1),N={class:"form-group"},E=t("label",null,[t("strong",null,"E-mail")],-1),x={key:1},U=t("br",null,null,-1),B=t("p",null,"Please click on a Person...",-1),D=[U,B];function S(o,e,a,u,s,r){return s.currentPerson?(d(),m("div",y,[w,t("form",null,[t("div",T,[b,i(t("input",{type:"text",class:"form-control",id:"firstName","onUpdate:modelValue":e[0]||(e[0]=n=>s.currentPerson.firstName=n)},null,512),[[c,s.currentPerson.firstName]])]),t("div",k,[v,i(t("input",{type:"text",class:"form-control",id:"lastName","onUpdate:modelValue":e[1]||(e[1]=n=>s.currentPerson.lastName=n)},null,512),[[c,s.currentPerson.lastName]])]),t("div",N,[E,i(t("input",{type:"text",class:"form-control",id:"email","onUpdate:modelValue":e[2]||(e[2]=n=>s.currentPerson.email=n)},null,512),[[c,s.currentPerson.email]])])]),t("button",{class:"badge badge-danger mr-2",onClick:e[3]||(e[3]=(...n)=>r.deletePerson&&r.deletePerson(...n))}," Delete "),t("button",{type:"submit",class:"badge badge-success",onClick:e[4]||(e[4]=(...n)=>r.updatePerson&&r.updatePerson(...n))}," Update "),t("p",null,f(s.message),1)])):(d(),m("div",x,D))}const z=_(g,[["render",S]]);export{z as default};
